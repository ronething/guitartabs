import{u as k,a as j,r as x,c as o,w as C,o as N,b as T,d as r,e as n,f as e,i as S,j as B,t as s,F as y,g as v,h as D,k as F,n as V}from"./index-eb1fa2a5.js";const $={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},I={key:0,class:"flex justify-center py-12"},L={key:1},z={class:"mb-8"},A={class:"flex items-center"},E={class:"mt-2 text-3xl font-extrabold text-gray-900"},G={class:"mt-2 text-sm text-gray-500"},M={class:"bg-white shadow overflow-hidden sm:rounded-md"},R={class:"divide-y divide-gray-200"},q={class:"px-4 py-4 sm:px-6"},H={class:"flex items-center justify-between"},J={class:"text-lg font-medium text-gray-900"},K={class:"text-sm text-gray-500"},O={class:"mt-2 sm:flex sm:justify-between"},P={class:"mt-2 flex flex-col text-sm text-gray-500 sm:mt-0"},Q={class:"flex flex-wrap gap-2"},U=["href"],Y={__name:"Artist",setup(W){const l=k(),{t:g}=j(),d=x(!0),m=x({fingerStyle:{name:"指弹",artists:[]},singing:{name:"弹唱",artists:[]}}),a=o(()=>l.params.type);o(()=>a.value==="fingerStyle"?"指弹":a.value==="singing"?"弹唱":"");const h=o(()=>a.value==="fingerStyle"?g("category.fingerstyle"):a.value==="singing"?g("category.singing"):""),_=o(()=>l.params.name),p=o(()=>{if(!m.value[a.value])return[];const t=m.value[a.value].artists.find(i=>i.name===_.value);return t?t.songs:[]}),b=t=>{switch(t.toLowerCase()){case"pdf":return"bg-red-100 text-red-800";case"md":return"bg-blue-100 text-blue-800";case"jpg":case"jpeg":case"png":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=async()=>{d.value=!0;try{m.value=await D()}catch(t){console.error("加载数据失败",t)}finally{d.value=!1}};return C([()=>l.params.type,()=>l.params.name],()=>{f()}),N(()=>{f()}),(t,i)=>{const w=T("router-link");return r(),n("div",$,[d.value?(r(),n("div",I,i[0]||(i[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):(r(),n("div",L,[e("div",z,[e("div",A,[S(w,{to:{name:"Category",params:{type:a.value}},class:"mr-2 text-sm font-medium text-blue-600 hover:text-blue-500"},{default:B(()=>[F(" ← "+s(t.$t("artist.backTo"))+" "+s(h.value),1)]),_:1},8,["to"])]),e("h1",E,s(_.value),1),e("p",G,s(p.value.length)+" "+s(t.$t("artist.songs")),1)]),e("div",M,[e("ul",R,[(r(!0),n(y,null,v(p.value,c=>(r(),n("li",{key:c.name},[e("div",q,[e("div",H,[e("h3",J,s(c.name),1),e("p",K,s(c.files.length)+" "+s(t.$t("artist.files")),1)]),e("div",O,[e("div",P,[e("div",Q,[(r(!0),n(y,null,v(c.files,u=>(r(),n("span",{key:u.name,class:V(["inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium",b(u.type)])},[e("a",{href:u.download_url,target:"_blank",class:"hover:underline"},s(u.name),9,U)],2))),128))])])])])]))),128))])])]))])}}};export{Y as default};
