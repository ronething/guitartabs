import{u as y,r as _,c as i,w as h,o as f,a as b,b as o,d as n,e as t,t as r,F as w,f as k,g as N,h as S,i as B,j as C}from"./index-2f96ec2b.js";const D={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},T={key:0,class:"flex justify-center py-12"},V={key:1},j={class:"mb-8"},E={class:"text-3xl font-extrabold text-gray-900"},F={class:"mt-2 text-sm text-gray-500"},A={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},G={class:"px-4 py-5 sm:p-6"},L={class:"text-lg font-medium text-gray-900 truncate"},M={class:"mt-1 text-sm text-gray-500"},R={class:"mt-4"},H={__name:"Category",setup(q){const m=y(),u=_(!0),c=_({fingerStyle:{name:"指弹",artists:[]},singing:{name:"弹唱",artists:[]}}),s=i(()=>m.params.type),p=i(()=>s.value==="fingerStyle"?"指弹":s.value==="singing"?"弹唱":""),d=i(()=>c.value[s.value]?c.value[s.value].artists:[]),v=i(()=>{let a=0;return d.value.forEach(e=>{a+=e.songs.length}),a}),g=async()=>{u.value=!0;try{c.value=await N()}catch(a){console.error("加载数据失败",a)}finally{u.value=!1}};return h(()=>m.params.type,()=>{g()}),f(()=>{g()}),(a,e)=>{const x=b("router-link");return o(),n("div",D,[u.value?(o(),n("div",T,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):(o(),n("div",V,[t("div",j,[t("h1",E,r(p.value),1),t("p",F," 共 "+r(d.value.length)+" 位艺术家，"+r(v.value)+" 首曲目 ",1)]),t("div",A,[(o(!0),n(w,null,k(d.value,l=>(o(),n("div",{key:l.name,class:"bg-white overflow-hidden shadow rounded-lg"},[t("div",G,[t("h3",L,r(l.name),1),t("p",M,r(l.songs.length)+" 首曲目",1),t("div",R,[S(x,{to:{name:"Artist",params:{type:s.value,name:l.name}},class:"text-sm font-medium text-blue-600 hover:text-blue-500"},{default:B(()=>e[1]||(e[1]=[C(" 查看曲目 → ")])),_:2},1032,["to"])])])]))),128))])]))])}}};export{H as default};
