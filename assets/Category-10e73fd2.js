import{u as h,a as x,r as v,c as o,w as b,o as w,b as k,d as r,e as n,f as s,t as e,F as S,g as $,h as N,i as B,j as C,k as D}from"./index-eb1fa2a5.js";const T={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},V={key:0,class:"flex justify-center py-12"},j={key:1},E={class:"mb-8"},F={class:"text-3xl font-extrabold text-gray-900"},I={class:"mt-2 text-sm text-gray-500"},A={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},G={class:"px-4 py-5 sm:p-6"},L={class:"text-lg font-medium text-gray-900 truncate"},M={class:"mt-1 text-sm text-gray-500"},R={class:"mt-4"},H={__name:"Category",setup(q){const g=h(),{t:m}=x(),u=v(!0),c=v({fingerStyle:{name:"指弹",artists:[]},singing:{name:"弹唱",artists:[]}}),a=o(()=>g.params.type);o(()=>a.value==="fingerStyle"?"指弹":a.value==="singing"?"弹唱":"");const p=o(()=>a.value==="fingerStyle"?m("category.fingerstyle"):a.value==="singing"?m("category.singing"):""),d=o(()=>c.value[a.value]?c.value[a.value].artists:[]),_=o(()=>{let t=0;return d.value.forEach(l=>{t+=l.songs.length}),t}),y=async()=>{u.value=!0;try{c.value=await N()}catch(t){console.error("加载数据失败",t)}finally{u.value=!1}};return b(()=>g.params.type,()=>{y()}),w(()=>{y()}),(t,l)=>{const f=k("router-link");return r(),n("div",T,[u.value?(r(),n("div",V,l[0]||(l[0]=[s("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):(r(),n("div",j,[s("div",E,[s("h1",F,e(p.value),1),s("p",I,e(t.$t("category.total"))+" "+e(d.value.length)+" "+e(t.$t("category.artists"))+"，"+e(_.value)+" "+e(t.$t("category.songs")),1)]),s("div",A,[(r(!0),n(S,null,$(d.value,i=>(r(),n("div",{key:i.name,class:"bg-white overflow-hidden shadow rounded-lg"},[s("div",G,[s("h3",L,e(i.name),1),s("p",M,e(i.songs.length)+" "+e(t.$t("category.songs")),1),s("div",R,[B(f,{to:{name:"Artist",params:{type:a.value,name:i.name}},class:"text-sm font-medium text-blue-600 hover:text-blue-500"},{default:C(()=>[D(e(t.$t("category.viewSongs"))+" → ",1)]),_:2},1032,["to"])])])]))),128))])]))])}}};export{H as default};
