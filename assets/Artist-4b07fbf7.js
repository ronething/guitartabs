import{u as w,r as g,c as d,w as k,o as j,a as C,b as s,d as a,e,h as N,i as T,t as r,F as f,f as y,g as B,j as D,n as F}from"./index-2f96ec2b.js";const S={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},V={key:0,class:"flex justify-center py-12"},L={key:1},z={class:"mb-8"},A={class:"flex items-center"},E={class:"mt-2 text-3xl font-extrabold text-gray-900"},G={class:"mt-2 text-sm text-gray-500"},M={class:"bg-white shadow overflow-hidden sm:rounded-md"},R={class:"divide-y divide-gray-200"},q={class:"px-4 py-4 sm:px-6"},H={class:"flex items-center justify-between"},I={class:"text-lg font-medium text-gray-900"},J={class:"text-sm text-gray-500"},K={class:"mt-2 sm:flex sm:justify-between"},O={class:"mt-2 flex flex-col text-sm text-gray-500 sm:mt-0"},P={class:"flex flex-wrap gap-2"},Q=["href"],X={__name:"Artist",setup(U){const o=w(),u=g(!0),m=g({fingerStyle:{name:"指弹",artists:[]},singing:{name:"弹唱",artists:[]}}),n=d(()=>o.params.type),v=d(()=>n.value==="fingerStyle"?"指弹":n.value==="singing"?"弹唱":""),_=d(()=>o.params.name),x=d(()=>{if(!m.value[n.value])return[];const t=m.value[n.value].artists.find(l=>l.name===_.value);return t?t.songs:[]}),h=t=>{switch(t.toLowerCase()){case"pdf":return"bg-red-100 text-red-800";case"md":return"bg-blue-100 text-blue-800";case"jpg":case"jpeg":case"png":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async()=>{u.value=!0;try{m.value=await B()}catch(t){console.error("加载数据失败",t)}finally{u.value=!1}};return k([()=>o.params.type,()=>o.params.name],()=>{p()}),j(()=>{p()}),(t,l)=>{const b=C("router-link");return s(),a("div",S,[u.value?(s(),a("div",V,l[0]||(l[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):(s(),a("div",L,[e("div",z,[e("div",A,[N(b,{to:{name:"Category",params:{type:n.value}},class:"mr-2 text-sm font-medium text-blue-600 hover:text-blue-500"},{default:T(()=>[D(" ← 返回"+r(v.value),1)]),_:1},8,["to"])]),e("h1",E,r(_.value),1),e("p",G,r(x.value.length)+" 首曲目 ",1)]),e("div",M,[e("ul",R,[(s(!0),a(f,null,y(x.value,i=>(s(),a("li",{key:i.name},[e("div",q,[e("div",H,[e("h3",I,r(i.name),1),e("p",J,r(i.files.length)+" 个文件",1)]),e("div",K,[e("div",O,[e("div",P,[(s(!0),a(f,null,y(i.files,c=>(s(),a("span",{key:c.name,class:F(["inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium",h(c.type)])},[e("a",{href:c.download_url,target:"_blank",class:"hover:underline"},r(c.name),9,Q)],2))),128))])])])])]))),128))])])]))])}}};export{X as default};
