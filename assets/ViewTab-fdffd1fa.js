import{u as h,r as _,c as a,o as b,a as g,b as s,d as o,e,h as v,i as y,t as c,j as w}from"./index-2f96ec2b.js";const k={class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},C={key:0,class:"flex justify-center py-12"},N={key:1},$={class:"mb-8"},j={class:"flex items-center"},T={class:"mt-2 text-3xl font-extrabold text-gray-900"},U={class:"mt-2 text-sm text-gray-500"},R={class:"bg-white shadow overflow-hidden sm:rounded-lg"},V={class:"px-4 py-5 sm:p-6"},B={key:0,class:"flex flex-col items-center"},D=["href"],I={key:1,class:"flex justify-center"},M=["src"],F={key:2,class:"prose max-w-none"},P=["href"],A={key:3,class:"text-center"},E=["href"],q={__name:"ViewTab",setup(L){const r=h(),m=_(!0),f=a(()=>r.params.type),i=a(()=>r.params.artist),p=a(()=>r.params.song),d=a(()=>r.params.file),u=a(()=>{const n=d.value.split(".");return n.length>1?n[n.length-1].toLowerCase():""}),l=a(()=>{const n="https://raw.githubusercontent.com/ronething/guitartabs/master",t=`${f.value}/${encodeURIComponent(i.value)}/${encodeURIComponent(p.value)}/${encodeURIComponent(d.value)}`;return`${n}/${t}`});return b(()=>{setTimeout(()=>{m.value=!1},500)}),(n,t)=>{const x=g("router-link");return s(),o("div",k,[m.value?(s(),o("div",C,t[0]||(t[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):(s(),o("div",N,[e("div",$,[e("div",j,[v(x,{to:{name:"Artist",params:{type:f.value,name:i.value}},class:"mr-2 text-sm font-medium text-blue-600 hover:text-blue-500"},{default:y(()=>[w(" ← 返回"+c(i.value),1)]),_:1},8,["to"])]),e("h1",T,c(p.value),1),e("p",U,c(d.value),1)]),e("div",R,[e("div",V,[u.value==="pdf"?(s(),o("div",B,[t[1]||(t[1]=e("p",{class:"mb-4 text-gray-500"},"PDF文件需要下载后查看",-1)),e("a",{href:l.value,download:"",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," 下载PDF文件 ",8,D)])):["jpg","jpeg","png"].includes(u.value)?(s(),o("div",I,[e("img",{src:l.value,alt:"吉他谱",class:"max-w-full h-auto"},null,8,M)])):u.value==="md"?(s(),o("div",F,[t[2]||(t[2]=e("p",{class:"text-gray-500"},"Markdown文件需要下载后查看",-1)),e("a",{href:l.value,download:"",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," 下载Markdown文件 ",8,P)])):(s(),o("div",A,[t[3]||(t[3]=e("p",{class:"text-gray-500"},"无法预览此文件类型，请下载后查看",-1)),e("a",{href:l.value,download:"",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," 下载文件 ",8,E)]))])])]))])}}};export{q as default};
